### Kubernetes

---

    컨테이너 인프라 환경이 주목받게 된 시기
    2014년 구글 자사에서 컨테이너 운영 플랫폼으로 운영하던 보그(Borg) 를 기반으로
    쿠버네티스를 오픈 소스화 하고 2015년 7월 21일 쿠버네티스 1.0버전 출시

쿠버네티스란

    컨테이너 관리 도구, 컨테이너 오케스트레이션을 위한 솔루션
    오케스트레이션 : 복잡한 단계를 관리, 요소들의 유기적인 관계를 미리 정의하여 손쉽게 사용하도록 서비스 제공
    오케스트레이션을 제공하는 대표적인 솔루션 docker swarm, mesos, nomad, k8s ...

구성 방법

    퍼블릭 클라우드 업체에서 재공하는 관리형 쿠버네티스
        EKS(Amazon Elastic Kubernetes Service)
        AKS(Azure Kubernetes Service)
        GKE(Google Kubernetes Engine) 

    설치형 쿠버네티스
        Rancher, 레드햇의 OpenShift (유료)

    구성형 쿠버네티스
        Kubeadm, kops, KRIB, kubespray 4가지 솔루션이 있고 kubeadm 이 널리 알려져있다

구성 요소 간 통신

* CALICO
  * 마스터 노드
    * kubectl
    * API 서버
    * etcd
    * 컨트롤러 매니저
    * 스케쥴러
  * 워커 노드
    * kubelet
    * 컨테이너 런타임
    * 파드  
  
마스터 노드 - kubectl

    쿠버네티스 클러스터에 명령 전달, binary 배포, API 서버와 주로 통신

마스터 노드 - API 서버

    클러스터 중식 열할, 주로 상태 값을 저장하는 etcd와 통신

마스터 노드 - etcd

    구성 요소들의 상태 값 저장, etcd 정보 백업으로 쿠버네티스 클러스터의 장애도 복구 가능
    멀티 마스터 노드 구성 가능, key-value 저장소

마스터 노드 - 컨트롤러 매니저

    오브젝트의 상태 체크 및 복구

마스터 노드 - 스케쥴러

    노드의 상태, 자원, 레이블, 요구 조건을 고려하여 선택한 워커 노드에 파드 생성
    파드가 할당되는 일정을 관리하는 역할

워커 노드 - kubelet

    파드의 구성 내용을 받아서 컨테이너 런타임으로 전달, 파드 안의 컨테이너 모니터링

워커 노드 - 컨테이너 런타임

    파드를 이루는 컨테이너의 실행 담당, 파드 안에서 컨테이너들을 문제 없이 작동하도록 만드는 표준 인터페이스

워커 노드 - 파드

    한 개 이상의 컨테이너, 특정한 목적으로 하나의 일을 하기 위해 모인 단위
    특정한 목적이란 웹 서버, 로그 데이터 등등 다양한 일들이 될 수 있다
    파드는 언제든지 죽을 수 있는 존재

